{"ast":null,"code":"Object.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar reMotion = require('@raidipesh78/re-motion');\nvar React = require('react');\n\n/**\r\n * @param { number } ms - number of milliseconds to delay code execution\r\n * @returns Promise\r\n */\nfunction delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      return resolve(null);\n    }, ms);\n  });\n}\n\n/**\r\n * interpolate functions maps input range to given output range\r\n * @param value - number | TransitionValue\r\n * @param inputRange - Array<number>\r\n * @param outputRange - Array<number | string>\r\n * @param extrapolateConfig - \"clamp\" | \"identity\" | \"extend\"\r\n * @returns - number | TransitionValue\r\n */\nfunction interpolate(value, inputRange, outputRange, extrapolateConfig) {\n  return reMotion.interpolate(value, inputRange, outputRange, extrapolateConfig);\n}\n/**\r\n * bInterpolate functions maps input range [0, 1] to given [minOutput, maxOutput]\r\n * sorthand function to interpolate input range [0, 1]\r\n * @param value - number | TransitionValue\r\n * @param minOutput - number | string\r\n * @param maxOutput - number | string\r\n * @param extrapolateConfig - \"clamp\" | \"identity\" | \"extend\"\r\n * @returns - number | TransitionValue\r\n */\nfunction bInterpolate(value, minOutput, maxOutput, extrapolateConfig) {\n  return reMotion.interpolate(value, [0, 1], [minOutput, maxOutput], extrapolateConfig);\n}\n\n/**\r\n * AnimatedBlock - A higher order component built upon `div` element\r\n * which can accept `AnimatedValue`. It also exposes some extra style properties like\r\n * translateX, translateY, rotateX, rotateY, scaleX, etc.\r\n */\nvar AnimatedBlock = reMotion.makeAnimatedComponent('div');\n\n/**\r\n * AnimatedInline - A higher order component built upon `span` element\r\n * which can accept `AnimatedValue`. It also exposes some extra style properties like\r\n * translateX, translateY, rotateX, rotateY, scaleX, etc.\r\n */\nvar AnimatedInline = reMotion.makeAnimatedComponent('span');\n\n/**\r\n * AnimatedImage - A higher order component built upon `img` element\r\n * which can accept `AnimatedValue`. It also exposes some extra style properties like\r\n * translateX, translateY, rotateX, rotateY, scaleX, etc.\r\n */\nvar AnimatedImage = reMotion.makeAnimatedComponent('img');\n\n/**\r\n * `useMountedValue` handles mounting and unmounting of a component which captures current state\r\n * passed as an arugment (`state`) and exposes the shadow state which handles the mount and unmount\r\n * of a component.\r\n *\r\n * @param { boolean } state - Boolean indicating the component should mount or unmount.\r\n * @param { UseMountedValueConfig } config - Animation configuration.\r\n */\nfunction useMountedValue(state, config) {\n  var mv = reMotion.useMount(state, config);\n  return function (cb) {\n    return mv(function (a, m) {\n      return cb({\n        value: a\n      }, m);\n    });\n  };\n}\n\n/**\r\n * MountedBlock - Higher order component which handles mounting and unmounting of a component.\r\n * @prop { boolean } state - Boolean indicating the component should mount or unmount.\r\n * @prop { function } children - Child as a function with `AnimatedValue` on `.value` property.\r\n * @prop { UseMountedValueConfig } config - Animation configuration.\r\n */\nvar MountedBlock = function (_a) {\n  var state = _a.state,\n    children = _a.children,\n    config = _a.config;\n  var open = useMountedValue(state, config);\n  return React.createElement(React.Fragment, null, open(function (animation, mounted) {\n    return mounted && children(animation);\n  }));\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\nvar getInitialConfig = function (animationType) {\n  switch (animationType) {\n    case 'elastic':\n      return {\n        mass: 1,\n        friction: 18,\n        tension: 250\n      };\n    case 'stiff':\n      return {\n        mass: 1,\n        friction: 18,\n        tension: 350\n      };\n    case 'wooble':\n      return {\n        mass: 1,\n        friction: 8,\n        tension: 250\n      };\n    case 'bounce':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.bounce\n      };\n    case 'power1':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.bezier(0.17, 0.42, 0.51, 0.97)\n      };\n    case 'power2':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.bezier(0.07, 0.11, 0.13, 1)\n      };\n    case 'power3':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.bezier(0.09, 0.7, 0.16, 1.04)\n      };\n    case 'power4':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.bezier(0.05, 0.54, 0, 1.03)\n      };\n    case 'linear':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.linear\n      };\n    case 'easein':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.in(reMotion.Easing.ease)\n      };\n    case 'easeout':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.out(reMotion.Easing.ease)\n      };\n    case 'easeinout':\n      return {\n        duration: 500,\n        easing: reMotion.Easing.inOut(reMotion.Easing.ease)\n      };\n    case 'ease':\n    default:\n      return {\n        mass: 1,\n        friction: 34,\n        tension: 290\n      };\n  }\n};\nvar AnimationConfigUtils = {\n  ELASTIC: getInitialConfig('elastic'),\n  BOUNCE: getInitialConfig('bounce'),\n  EASE: getInitialConfig('ease'),\n  STIFF: getInitialConfig('stiff'),\n  WOOBLE: getInitialConfig('wooble'),\n  EASE_IN: getInitialConfig('easein'),\n  EASE_OUT: getInitialConfig('easeout'),\n  EASE_IN_OUT: getInitialConfig('easeinout'),\n  POWER1: getInitialConfig('power1'),\n  POWER2: getInitialConfig('power2'),\n  POWER3: getInitialConfig('power3'),\n  POWER4: getInitialConfig('power4'),\n  LINEAR: getInitialConfig('linear')\n};\n\n/**\r\n * `useAnimatedValue` returns an animation value with `.value` and `.currentValue` property which is\r\n * initialized when passed to argument (`initialValue`). The retured value persist until the lifetime of\r\n * a component. It doesnot cast any re-renders which can is very good for performance optimization.\r\n *\r\n * @param { string | number } initialValue - Initial value\r\n * @param { UseAnimatedValueConfig } config - Animation configuration object.\r\n */\nfunction useAnimatedValue(initialValue, config) {\n  var _a = __read(reMotion.useTransition(initialValue, __assign(__assign({}, AnimationConfigUtils.EASE), config)), 2),\n    animation = _a[0],\n    setAnimation = _a[1];\n  var targetObject = {\n    value: animation,\n    currentValue: animation.get()\n  };\n  return new Proxy(targetObject, {\n    set: function (_, key, value) {\n      if (key === 'value') {\n        if (typeof value === 'number' || typeof value === 'string') {\n          setAnimation({\n            toValue: value\n          });\n        } else if (typeof value === 'object' || typeof value === 'function') {\n          setAnimation(value);\n        }\n        return true;\n      }\n      throw new Error('You cannot set any other property to animation node.');\n    },\n    get: function (_, key) {\n      if (key === 'value') {\n        return animation;\n      }\n      if (key === 'currentValue') {\n        return animation.get();\n      }\n      throw new Error('You cannot access any other property from animation node.');\n    }\n  });\n}\n\n/**\r\n * ScrollableBlock - Higher order component to handle the entrance or exit animation\r\n * of a component when it enters or exit the viewport. Accepts child as a function with\r\n * `AnimatedValue` as its first argument which can be interpolated on input range [0, 1]\r\n * @prop { function } children - child as a function with `AnimatedValue` as its first argument.\r\n * @prop { 'single' | 'both' } direction - single applies animation on enter once, both applies on enter and exit.\r\n * @prop { number } threshold - should be in range 0 to 1 which equivalent to `IntersectionObserver` threshold.\r\n * @prop { UseAnimatedValueConfig } animationConfig - Animation config\r\n */\nvar ScrollableBlock = function (props) {\n  var children = props.children,\n    _a = props.direction,\n    direction = _a === void 0 ? 'single' : _a,\n    animationConfig = props.animationConfig,\n    _b = props.threshold,\n    threshold = _b === void 0 ? 0.2 : _b;\n  var scrollableBlockRef = React.useRef(null);\n  var animation = useAnimatedValue(0, animationConfig); // 0: not intersecting | 1: intersecting\n  React.useEffect(function () {\n    var _scrollableBlock = scrollableBlockRef.current;\n    var observer = new IntersectionObserver(function (_a) {\n      var _b = __read(_a, 1),\n        entry = _b[0];\n      var isIntersecting = entry.isIntersecting;\n      if (isIntersecting) {\n        animation.value = 1;\n      } else {\n        if (direction === 'both') animation.value = 0;\n      }\n    }, {\n      root: null,\n      threshold: threshold\n    });\n    if (_scrollableBlock) {\n      observer.observe(_scrollableBlock);\n    }\n    return function () {\n      if (_scrollableBlock) {\n        observer.unobserve(_scrollableBlock);\n      }\n    };\n  }, []);\n  return React.createElement(\"div\", {\n    ref: scrollableBlockRef\n  }, children && children({\n    value: animation.value\n  }));\n};\n\n/**\r\n * bin(booleanValue)\r\n * returns 1 if booleanValue == true and 0 if booleanValue == false\r\n */\nfunction bin(bool) {\n  return bool ? 1 : 0;\n}\n/**\r\n * mix(progress, a, b)\r\n * linear interpolation between a and b\r\n */\nfunction mix(perc, val1, val2) {\n  return val1 * (1 - perc) + val2 * perc;\n}\n/**\r\n * clamp(value, min, max)\r\n * clamps value for min and max bounds\r\n */\nfunction clamp(value, lowerbound, upperbound) {\n  return Math.min(Math.max(value, lowerbound), upperbound);\n}\nfunction rubber2(distanceFromEdge, constant) {\n  return Math.pow(distanceFromEdge, constant * 5);\n}\nfunction rubber(distanceFromEdge, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return rubber2(distanceFromEdge, constant);\n  return distanceFromEdge * dimension * constant / (dimension + constant * distanceFromEdge);\n}\n/**\r\n * rubberClamp(value, min, max, constant?)\r\n * constant is optional : default 0.15\r\n * clamps the value for min and max value and\r\n * extends beyond min and max values with constant\r\n * factor to create elastic rubber band effect\r\n */\nfunction rubberClamp(value, lowerbound, upperbound, constant) {\n  if (constant === void 0) {\n    constant = 0.15;\n  }\n  if (constant === 0) return clamp(value, lowerbound, upperbound);\n  if (value < lowerbound) {\n    return -rubber(lowerbound - value, upperbound - lowerbound, constant) + lowerbound;\n  }\n  if (value > upperbound) {\n    return +rubber(value - upperbound, upperbound - lowerbound, constant) + upperbound;\n  }\n  return value;\n}\n/**\r\n * snapTo(value, velocity, snapPoints[])\r\n * Calculates the final snapPoint according to given current value,\r\n * velocity and snapPoints array\r\n */\nfunction snapTo(value, velocity, snapPoints) {\n  var finalValue = value + velocity * 0.2;\n  var getDiff = function (point) {\n    return Math.abs(point - finalValue);\n  };\n  var deltas = snapPoints.map(getDiff);\n  var minDelta = Math.min.apply(Math, __spread(deltas));\n  return snapPoints.reduce(function (acc, point) {\n    if (getDiff(point) === minDelta) {\n      return point;\n    } else {\n      return acc;\n    }\n  });\n}\n/**\r\n * move(array, moveIndex, toIndex)\r\n * move array item from moveIndex to toIndex without array modification\r\n */\nfunction move(array, moveIndex, toIndex) {\n  var item = array[moveIndex];\n  var length = array.length;\n  var diff = moveIndex - toIndex;\n  if (diff > 0) {\n    return __spread(array.slice(0, toIndex), [item], array.slice(toIndex, moveIndex), array.slice(moveIndex + 1, length));\n  } else if (diff < 0) {\n    var targetIndex = toIndex + 1;\n    return __spread(array.slice(0, moveIndex), array.slice(moveIndex + 1, targetIndex), [item], array.slice(targetIndex, length));\n  }\n  return array;\n}\n\n/**\r\n * TransitionBlock - Higher order component which animates on state change.\r\n * @prop { boolean } state - Boolean indicating the current state of animation, usually `false = 0 and true = 1`.\r\n * @prop { function } children - Child as a function with `AnimatedValue` on `.value` property.\r\n * @prop { UseAnimatedValueConfig } config - Animation configuration.\r\n */\nvar TransitionBlock = function (_a) {\n  var state = _a.state,\n    children = _a.children,\n    config = _a.config;\n  var amv = useAnimatedValue(bin(state), config);\n  return React.createElement(React.Fragment, null, children({\n    value: amv.value\n  }));\n};\n\n/**\r\n * Attach single document / window event / HTMLElement\r\n */\nfunction attachEvent(domTargets, event, callback, capture) {\n  if (capture === void 0) {\n    capture = false;\n  }\n  domTargets.forEach(function (target) {\n    target.addEventListener(event, callback, capture);\n  });\n  return function () {\n    domTargets.forEach(function (target) {\n      target.removeEventListener(event, callback, capture);\n    });\n  };\n}\n/**\r\n * Attach multiple document / window event / HTMLElement\r\n */\nfunction attachEvents(domTargets, events) {\n  var subscribers = new Map();\n  events.forEach(function (_a) {\n    var _b = __read(_a, 3),\n      event = _b[0],\n      callback = _b[1],\n      _c = _b[2],\n      capture = _c === void 0 ? false : _c;\n    subscribers.set(event, attachEvent(domTargets, event, callback, capture));\n  });\n  return function (eventKeys) {\n    var e_1, _a;\n    try {\n      for (var _b = __values(subscribers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var _d = __read(_c.value, 2),\n          eventKey = _d[0],\n          subscriber = _d[1];\n        if (!eventKeys) {\n          subscriber();\n          return;\n        }\n        if (eventKeys.indexOf(eventKey) !== -1) {\n          subscriber();\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n}\nvar withDefault = function (x, y) {\n  return {\n    x: x,\n    y: y\n  };\n};\nvar Gesture = /** @class */function () {\n  function Gesture() {\n    this.lastTimeStamp = Date.now();\n    this.isActive = false;\n    this.targetElements = []; // represents the bounded elements\n  }\n  // it must be overridden by other child classes\n  Gesture.prototype._initEvents = function () {};\n  // cancel events\n  // we only canceled down and move events because mouse up\n  // will not be triggered\n  Gesture.prototype._cancelEvents = function () {\n    if (this._subscribe) {\n      this._subscribe();\n    }\n  };\n  // re-apply new callback\n  Gesture.prototype.applyCallback = function (callback) {\n    this.callback = callback;\n  };\n  // apply gesture\n  Gesture.prototype.applyGesture = function (_a) {\n    var _this = this;\n    var targetElement = _a.targetElement,\n      targetElements = _a.targetElements,\n      callback = _a.callback,\n      config = _a.config;\n    this.targetElement = targetElement;\n    this.targetElements = targetElements.map(function (element) {\n      return element.current;\n    });\n    this.callback = callback;\n    this.config = config;\n    // initialize events\n    this._initEvents();\n    // unbind\n    return function () {\n      return _this._subscribe && _this._subscribe();\n    };\n  };\n  Gesture._VELOCITY_LIMIT = 20;\n  return Gesture;\n}();\nvar DragGesture = /** @class */function (_super) {\n  __extends(DragGesture, _super);\n  function DragGesture() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.movementStart = withDefault(0, 0);\n    _this.initialMovement = withDefault(0, 0);\n    _this.movement = withDefault(0, 0);\n    _this.previousMovement = withDefault(0, 0);\n    _this.translation = withDefault(0, 0);\n    _this.offset = withDefault(0, 0);\n    _this.velocity = withDefault(0, 0);\n    return _this;\n  }\n  // @override\n  // initialize the events\n  DragGesture.prototype._initEvents = function () {\n    if (this.targetElement || this.targetElements.length > 0) {\n      this._subscribe = attachEvents([window], [['mousedown', this.pointerDown.bind(this)], ['mousemove', this.pointerMove.bind(this)], ['mouseup', this.pointerUp.bind(this)], ['touchstart', this.pointerDown.bind(this), {\n        passive: false\n      }], ['touchmove', this.pointerMove.bind(this), {\n        passive: false\n      }], ['touchend', this.pointerUp.bind(this)]]);\n    }\n  };\n  // @override - cancel events\n  // we only canceled down and move events because mouse up\n  // will not be triggered\n  DragGesture.prototype._cancelEvents = function () {\n    if (this._subscribe) {\n      this._subscribe(['mousedown', 'mousemove', 'touchstart', 'touchmove']);\n    }\n  };\n  DragGesture.prototype._handleCallback = function () {\n    var _this = this;\n    if (this.callback) {\n      this.callback({\n        args: [this.currentIndex],\n        down: this.isActive,\n        movementX: this.movement.x,\n        movementY: this.movement.y,\n        offsetX: this.translation.x,\n        offsetY: this.translation.y,\n        velocityX: this.velocity.x,\n        velocityY: this.velocity.y,\n        distanceX: Math.abs(this.movement.x),\n        distanceY: Math.abs(this.movement.y),\n        directionX: Math.sign(this.movement.x),\n        directionY: Math.sign(this.movement.y),\n        cancel: function () {\n          _this._cancelEvents();\n        }\n      });\n    }\n  };\n  DragGesture.prototype.pointerDown = function (e) {\n    var _a;\n    if (e.type === 'touchstart') {\n      this.movementStart = {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY\n      };\n    } else {\n      this.movementStart = {\n        x: e.clientX,\n        y: e.clientY\n      };\n    }\n    this.movement = {\n      x: 0,\n      y: 0\n    };\n    this.offset = {\n      x: this.translation.x,\n      y: this.translation.y\n    };\n    this.previousMovement = {\n      x: 0,\n      y: 0\n    };\n    this.velocity = {\n      x: 0,\n      y: 0\n    };\n    // find current selected element\n    var currElem = this.targetElements.find(function (elem) {\n      return elem === e.target;\n    });\n    if (e.target === this.targetElement || currElem) {\n      this.isActive = true;\n      e.preventDefault();\n      // set args\n      if (currElem) {\n        this.currentIndex = this.targetElements.indexOf(currElem);\n      }\n      // if initial function is defined then call it to get initial movementX and movementY\n      // if only select to bounded draggable element\n      var initial = ((_a = this.config) === null || _a === void 0 ? void 0 : _a.initial) && this.config.initial();\n      var initialMovementX = initial === null || initial === void 0 ? void 0 : initial.movementX;\n      var initialMovementY = initial === null || initial === void 0 ? void 0 : initial.movementY;\n      this.initialMovement = {\n        x: initialMovementX !== null && initialMovementX !== void 0 ? initialMovementX : 0,\n        y: initialMovementY !== null && initialMovementY !== void 0 ? initialMovementY : 0\n      };\n      this.movement = {\n        x: this.initialMovement.x,\n        y: this.initialMovement.y\n      };\n      this.previousMovement = {\n        x: this.initialMovement.x,\n        y: this.initialMovement.y\n      };\n      this._handleCallback();\n    }\n  };\n  DragGesture.prototype.pointerMove = function (e) {\n    if (this.isActive) {\n      e.preventDefault();\n      var now = Date.now();\n      var deltaTime = clamp(now - this.lastTimeStamp, 0.1, 64);\n      this.lastTimeStamp = now;\n      var t = deltaTime / 1000;\n      if (e.type === 'touchmove') {\n        this.movement = {\n          x: this.initialMovement.x + (e.touches[0].clientX - this.movementStart.x),\n          y: this.initialMovement.y + (e.touches[0].clientY - this.movementStart.y)\n        };\n      } else {\n        this.movement = {\n          x: this.initialMovement.x + (e.clientX - this.movementStart.x),\n          y: this.initialMovement.y + (e.clientY - this.movementStart.y)\n        };\n      }\n      this.translation = {\n        x: this.offset.x + this.movement.x,\n        y: this.offset.y + this.movement.y\n      };\n      this.velocity = {\n        x: clamp((this.movement.x - this.previousMovement.x) / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT),\n        y: clamp((this.movement.y - this.previousMovement.y) / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT)\n      };\n      this.previousMovement = {\n        x: this.movement.x,\n        y: this.movement.y\n      };\n      this._handleCallback();\n    }\n  };\n  DragGesture.prototype.pointerUp = function () {\n    if (this.isActive) {\n      this.isActive = false;\n      this._handleCallback();\n      this._cancelEvents();\n      this._initEvents();\n    }\n  };\n  return DragGesture;\n}(Gesture);\nvar MouseMoveGesture = /** @class */function (_super) {\n  __extends(MouseMoveGesture, _super);\n  function MouseMoveGesture() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.movement = withDefault(0, 0);\n    _this.previousMovement = withDefault(0, 0);\n    _this.velocity = withDefault(0, 0);\n    _this.direction = withDefault(0, 0);\n    return _this;\n  }\n  // @override\n  // initialize the events\n  MouseMoveGesture.prototype._initEvents = function () {\n    if (this.targetElement) {\n      this._subscribe = attachEvents([this.targetElement], [['mousemove', this.onMouseMove.bind(this)]]);\n    } else if (this.targetElements.length > 0) {\n      this._subscribe = attachEvents(this.targetElements, [['mousemove', this.onMouseMove.bind(this)]]);\n    } else {\n      this._subscribe = attachEvents([window], [['mousemove', this.onMouseMove.bind(this)]]);\n    }\n  };\n  MouseMoveGesture.prototype._handleCallback = function () {\n    var _a;\n    if (this.callback) {\n      this.callback({\n        args: [this.currentIndex],\n        event: this.event,\n        isMoving: this.isActive,\n        target: (_a = this.event) === null || _a === void 0 ? void 0 : _a.target,\n        mouseX: this.movement.x,\n        mouseY: this.movement.y,\n        velocityX: this.velocity.x,\n        velocityY: this.velocity.y,\n        directionX: this.direction.x,\n        directionY: this.direction.y\n      });\n    }\n  };\n  MouseMoveGesture.prototype.onMouseMove = function (e) {\n    var _this = this;\n    // find current selected element\n    var currElem = this.targetElements.find(function (elem) {\n      return elem === e.target;\n    });\n    // set args\n    if (currElem) {\n      this.currentIndex = this.targetElements.indexOf(currElem);\n    }\n    this.event = e;\n    var now = Date.now();\n    var deltaTime = Math.min(now - this.lastTimeStamp, 64);\n    this.lastTimeStamp = now;\n    var t = deltaTime / 1000; // seconds\n    var x = e.clientX;\n    var y = e.clientY;\n    this.movement = {\n      x: x,\n      y: y\n    };\n    if (this.isActiveID !== -1) {\n      this.isActive = true;\n      clearTimeout(this.isActiveID);\n    }\n    this.isActiveID = setTimeout(function () {\n      _this.isActive = false;\n      _this.direction = {\n        x: 0,\n        y: 0\n      };\n      _this.velocity = {\n        x: 0,\n        y: 0\n      };\n      _this._handleCallback();\n    }, 250); // Debounce 250 milliseconds\n    var diffX = this.movement.x - this.previousMovement.x;\n    var diffY = this.movement.y - this.previousMovement.y;\n    this.direction = {\n      x: Math.sign(diffX),\n      y: Math.sign(diffY)\n    };\n    this.velocity = {\n      x: clamp(diffX / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT),\n      y: clamp(diffY / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT)\n    };\n    this.previousMovement = {\n      x: this.movement.x,\n      y: this.movement.y\n    };\n    this._handleCallback();\n  };\n  return MouseMoveGesture;\n}(Gesture);\nvar ScrollGesture = /** @class */function (_super) {\n  __extends(ScrollGesture, _super);\n  function ScrollGesture() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.movement = withDefault(0, 0);\n    _this.previousMovement = withDefault(0, 0);\n    _this.direction = withDefault(0, 0);\n    _this.velocity = withDefault(0, 0);\n    return _this;\n  }\n  // @override\n  // initialize the events\n  ScrollGesture.prototype._initEvents = function () {\n    if (this.targetElement) {\n      this._subscribe = attachEvents([this.targetElement], [['scroll', this.scrollElementListener.bind(this)]]);\n    } else {\n      this._subscribe = attachEvents([window], [['scroll', this.scrollListener.bind(this)]]);\n    }\n  };\n  ScrollGesture.prototype._handleCallback = function () {\n    if (this.callback) {\n      this.callback({\n        isScrolling: this.isActive,\n        scrollX: this.movement.x,\n        scrollY: this.movement.y,\n        velocityX: this.velocity.x,\n        velocityY: this.velocity.y,\n        directionX: this.direction.x,\n        directionY: this.direction.y\n      });\n    }\n  };\n  ScrollGesture.prototype.onScroll = function (_a) {\n    var _this = this;\n    var x = _a.x,\n      y = _a.y;\n    var now = Date.now();\n    var deltaTime = Math.min(now - this.lastTimeStamp, 64);\n    this.lastTimeStamp = now;\n    var t = deltaTime / 1000; // seconds\n    this.movement = {\n      x: x,\n      y: y\n    };\n    // Clear if scrolling\n    if (this.isActiveID !== -1) {\n      this.isActive = true;\n      clearTimeout(this.isActiveID);\n    }\n    this.isActiveID = setTimeout(function () {\n      _this.isActive = false;\n      _this.direction = {\n        x: 0,\n        y: 0\n      };\n      // Reset Velocity\n      _this.velocity = {\n        x: 0,\n        y: 0\n      };\n      _this._handleCallback(); // Debounce 250milliseconds\n    }, 250);\n    var diffX = this.movement.x - this.previousMovement.x;\n    var diffY = this.movement.y - this.previousMovement.y;\n    this.direction = {\n      x: Math.sign(diffX),\n      y: Math.sign(diffY)\n    };\n    this.velocity = {\n      x: clamp(diffX / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT),\n      y: clamp(diffY / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT)\n    };\n    this.previousMovement = {\n      x: this.movement.x,\n      y: this.movement.y\n    };\n    this._handleCallback();\n  };\n  ScrollGesture.prototype.scrollListener = function () {\n    var y = window.pageYOffset,\n      x = window.pageXOffset;\n    this.onScroll({\n      x: x,\n      y: y\n    });\n  };\n  ScrollGesture.prototype.scrollElementListener = function () {\n    var _a, _b;\n    var x = ((_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.scrollLeft) || 0;\n    var y = ((_b = this.targetElement) === null || _b === void 0 ? void 0 : _b.scrollTop) || 0;\n    this.onScroll({\n      x: x,\n      y: y\n    });\n  };\n  return ScrollGesture;\n}(Gesture);\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\nvar WheelGesture = /** @class */function (_super) {\n  __extends(WheelGesture, _super);\n  function WheelGesture() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.movement = withDefault(0, 0);\n    _this.previousMovement = withDefault(0, 0);\n    _this.direction = withDefault(0, 0);\n    _this.velocity = withDefault(0, 0);\n    _this.delta = withDefault(0, 0);\n    // Holds offsets\n    _this.offset = withDefault(0, 0);\n    _this.translation = withDefault(0, 0);\n    return _this;\n  }\n  // @override\n  // initialize the events\n  WheelGesture.prototype._initEvents = function () {\n    if (this.targetElement) {\n      this._subscribe = attachEvents([this.targetElement], [['wheel', this.onWheel.bind(this)]]);\n    }\n  };\n  WheelGesture.prototype._handleCallback = function () {\n    if (this.callback) {\n      this.callback({\n        target: this.targetElement,\n        isWheeling: this.isActive,\n        deltaX: this.delta.x,\n        deltaY: this.delta.y,\n        directionX: this.direction.x,\n        directionY: this.direction.y,\n        movementX: this.movement.x,\n        movementY: this.movement.y,\n        offsetX: this.offset.x,\n        offsetY: this.offset.y,\n        velocityX: this.velocity.x,\n        velocityY: this.velocity.y\n      });\n    }\n  };\n  WheelGesture.prototype.onWheel = function (event) {\n    var _this = this;\n    var deltaX = event.deltaX,\n      deltaY = event.deltaY,\n      deltaMode = event.deltaMode;\n    var now = Date.now();\n    var deltaTime = Math.min(now - this.lastTimeStamp, 64);\n    this.lastTimeStamp = now;\n    var t = deltaTime / 1000; // seconds\n    this.isActive = true;\n    if (this.isActiveID !== -1) {\n      this.isActive = true;\n      clearTimeout(this.isActiveID);\n    }\n    this.isActiveID = setTimeout(function () {\n      _this.isActive = false;\n      _this.translation = {\n        x: _this.offset.x,\n        y: _this.offset.y\n      };\n      _this._handleCallback();\n      _this.velocity = {\n        x: 0,\n        y: 0\n      }; // Reset Velocity\n      _this.movement = {\n        x: 0,\n        y: 0\n      };\n    }, 200);\n    // normalize wheel values, especially for Firefox\n    if (deltaMode === 1) {\n      deltaX *= LINE_HEIGHT;\n      deltaY *= LINE_HEIGHT;\n    } else if (deltaMode === 2) {\n      deltaX *= PAGE_HEIGHT;\n      deltaY *= PAGE_HEIGHT;\n    }\n    this.delta = {\n      x: deltaX,\n      y: deltaY\n    };\n    this.movement = {\n      x: this.movement.x + deltaX,\n      y: this.movement.y + deltaY\n    };\n    this.offset = {\n      x: this.translation.x + this.movement.x,\n      y: this.translation.y + this.movement.y\n    };\n    var diffX = this.movement.x - this.previousMovement.x;\n    var diffY = this.movement.y - this.previousMovement.y;\n    this.direction = {\n      x: Math.sign(diffX),\n      y: Math.sign(diffY)\n    };\n    this.velocity = {\n      x: clamp(diffX / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT),\n      y: clamp(diffY / t / 1000, -1 * Gesture._VELOCITY_LIMIT, Gesture._VELOCITY_LIMIT)\n    };\n    this.previousMovement = {\n      x: this.movement.x,\n      y: this.movement.y\n    };\n    this._handleCallback();\n  };\n  return WheelGesture;\n}(Gesture);\nvar useRecognizer = function (handlers) {\n  var ref = React.useRef();\n  var elementRefs = React.useRef([]);\n  var subscribers = React.useRef(new Map()).current;\n  // re-initiate callback on change\n  React.useEffect(function () {\n    var e_1, _a;\n    try {\n      for (var _b = __values(subscribers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var _d = __read(_c.value, 2),\n          _e = _d[1],\n          keyIndex = _e.keyIndex,\n          gesture = _e.gesture;\n        var _f = __read(handlers[keyIndex], 3),\n          callback = _f[2];\n        gesture.applyCallback(callback);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  }, [handlers]);\n  React.useEffect(function () {\n    handlers.forEach(function (_a, keyIndex) {\n      var _b = __read(_a, 4),\n        key = _b[0],\n        gesture = _b[1],\n        callback = _b[2],\n        config = _b[3];\n      subscribers.set(key, {\n        keyIndex: keyIndex,\n        gesture: gesture,\n        unsubscribe: gesture.applyGesture({\n          targetElement: ref.current,\n          targetElements: elementRefs.current,\n          callback: callback,\n          config: config\n        })\n      });\n    });\n    return function () {\n      var e_2, _a;\n      try {\n        for (var _b = __values(subscribers.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var _d = __read(_c.value, 2),\n            unsubscribe = _d[1].unsubscribe;\n          unsubscribe && unsubscribe();\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n    };\n  }, []);\n  return function (index) {\n    if (index === null || index === undefined) {\n      return {\n        ref: ref\n      };\n    } else {\n      elementRefs.current[index] = elementRefs.current[index] || React.createRef();\n      return {\n        ref: elementRefs.current[index]\n      };\n    }\n  };\n};\nfunction useDrag(callback, config) {\n  var gesture = React.useRef(new DragGesture()).current;\n  return useRecognizer([['drag', gesture, callback, config]]);\n}\nfunction useMouseMove(callback) {\n  var gesture = React.useRef(new MouseMoveGesture()).current;\n  return useRecognizer([['move', gesture, callback]]);\n}\nfunction useScroll(callback) {\n  var gesture = React.useRef(new ScrollGesture()).current;\n  return useRecognizer([['scroll', gesture, callback]]);\n}\nfunction useWheel(callback) {\n  var gesture = React.useRef(new WheelGesture()).current;\n  return useRecognizer([['wheel', gesture, callback]]);\n}\nfunction useGesture(_a) {\n  var onDrag = _a.onDrag,\n    onWheel = _a.onWheel,\n    onScroll = _a.onScroll,\n    onMouseMove = _a.onMouseMove;\n  var dragGesture = React.useRef(new DragGesture()).current;\n  var wheelGesture = React.useRef(new WheelGesture()).current;\n  var scrollGesture = React.useRef(new ScrollGesture()).current;\n  var mouseMoveGesture = React.useRef(new MouseMoveGesture()).current;\n  return useRecognizer([['drag', dragGesture, onDrag], ['wheel', wheelGesture, onWheel], ['scroll', scrollGesture, onScroll], ['move', mouseMoveGesture, onMouseMove]]);\n}\nfunction useOutsideClick(elementRef, callback, deps) {\n  var callbackRef = React.useRef();\n  if (!callbackRef.current) {\n    callbackRef.current = callback;\n  }\n  // Reinitiate callback when dependency change\n  React.useEffect(function () {\n    callbackRef.current = callback;\n    return function () {\n      callbackRef.current = function () {\n        return false;\n      };\n    };\n  }, deps);\n  React.useEffect(function () {\n    var handleOutsideClick = function (e) {\n      var _a;\n      if (!((_a = elementRef === null || elementRef === void 0 ? void 0 : elementRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target))) {\n        callbackRef.current && callbackRef.current(e);\n      }\n    };\n    var subscribe = attachEvents([document], [[\"click\", handleOutsideClick]]);\n    return function () {\n      return subscribe && subscribe();\n    };\n  }, []);\n}\nfunction useMeasure(callback, deps) {\n  var ref = React.useRef(null);\n  var elementRefs = React.useRef([]);\n  var callbackRef = React.useRef(callback);\n  // Reinitiate callback when dependency change\n  React.useEffect(function () {\n    callbackRef.current = callback;\n    return function () {\n      callbackRef.current = function () {\n        return false;\n      };\n    };\n  }, deps);\n  React.useEffect(function () {\n    var _refElement = ref.current || document.documentElement;\n    var _refElementsMultiple = elementRefs.current;\n    var resizeObserver = new ResizeObserver(function (_a) {\n      var _b = __read(_a, 1),\n        entry = _b[0];\n      var _c = entry.target.getBoundingClientRect(),\n        left = _c.left,\n        top = _c.top,\n        width = _c.width,\n        height = _c.height;\n      var pageXOffset = window.pageXOffset,\n        pageYOffset = window.pageYOffset;\n      if (callbackRef) {\n        if (_refElement === document.documentElement) {\n          return; // no-op for document\n        } else {\n          callbackRef.current({\n            left: left + pageXOffset,\n            top: top + pageYOffset,\n            width: width,\n            height: height,\n            vLeft: left,\n            vTop: top\n          });\n        }\n      }\n    });\n    var resizeObserverMultiple = new ResizeObserver(function (entries) {\n      var left = [];\n      var top = [];\n      var width = [];\n      var height = [];\n      var vLeft = [];\n      var vTop = [];\n      entries.forEach(function (entry) {\n        var _a = entry.target.getBoundingClientRect(),\n          _left = _a.left,\n          _top = _a.top,\n          _width = _a.width,\n          _height = _a.height;\n        var pageXOffset = window.pageXOffset,\n          pageYOffset = window.pageYOffset;\n        var _pageLeft = _left + pageXOffset;\n        var _pageTop = _top + pageYOffset;\n        left.push(_pageLeft);\n        top.push(_pageTop);\n        width.push(_width);\n        height.push(_height);\n        vLeft.push(_left);\n        vTop.push(_top);\n      });\n      if (callbackRef) {\n        callbackRef.current({\n          left: left,\n          top: top,\n          width: width,\n          height: height,\n          vLeft: vLeft,\n          vTop: vTop\n        });\n      }\n    });\n    if (_refElement) {\n      if (_refElement === document.documentElement && _refElementsMultiple.length > 0) {\n        _refElementsMultiple.forEach(function (element) {\n          resizeObserverMultiple.observe(element.current);\n        });\n      } else {\n        resizeObserver.observe(_refElement);\n      }\n    }\n    return function () {\n      if (_refElement) {\n        if (_refElement === document.documentElement && _refElementsMultiple.length > 0) {\n          _refElementsMultiple.forEach(function (element) {\n            resizeObserverMultiple.unobserve(element.current);\n          });\n        } else {\n          resizeObserver.unobserve(_refElement);\n        }\n      }\n    };\n  }, []);\n  return function (index) {\n    if (index === null || index === undefined) {\n      return {\n        ref: ref\n      };\n    } else {\n      elementRefs.current[index] = elementRefs.current[index] || React.createRef();\n      return {\n        ref: elementRefs.current[index]\n      };\n    }\n  }; // ...bind() or ...bind(index) for multiple\n}\n\nfunction useWindowDimension(callback, deps) {\n  var windowDimensionsRef = React.useRef({\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0\n  });\n  var callbackRef = React.useRef(callback);\n  var handleCallback = function () {\n    if (callbackRef) {\n      callbackRef.current(__assign({}, windowDimensionsRef.current));\n    }\n  };\n  // Reinitiate callback when dependency change\n  React.useEffect(function () {\n    callbackRef.current = callback;\n    return function () {\n      callbackRef.current = function () {\n        return false;\n      };\n    };\n  }, deps);\n  React.useEffect(function () {\n    var resizeObserver = new ResizeObserver(function (_a) {\n      var _b = __read(_a, 1),\n        entry = _b[0];\n      var _c = entry.target,\n        clientWidth = _c.clientWidth,\n        clientHeight = _c.clientHeight;\n      var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n      windowDimensionsRef.current = {\n        width: clientWidth,\n        height: clientHeight,\n        innerWidth: innerWidth,\n        innerHeight: innerHeight\n      };\n      handleCallback();\n    });\n    resizeObserver.observe(document.documentElement);\n    return function () {\n      return resizeObserver.unobserve(document.documentElement);\n    };\n  }, []);\n}\nObject.defineProperty(exports, 'Easing', {\n  enumerable: true,\n  get: function () {\n    return reMotion.Easing;\n  }\n});\nObject.defineProperty(exports, 'makeAnimatedComponent', {\n  enumerable: true,\n  get: function () {\n    return reMotion.makeAnimatedComponent;\n  }\n});\nexports.AnimatedBlock = AnimatedBlock;\nexports.AnimatedImage = AnimatedImage;\nexports.AnimatedInline = AnimatedInline;\nexports.AnimationConfigUtils = AnimationConfigUtils;\nexports.MountedBlock = MountedBlock;\nexports.ScrollableBlock = ScrollableBlock;\nexports.TransitionBlock = TransitionBlock;\nexports.bInterpolate = bInterpolate;\nexports.bin = bin;\nexports.clamp = clamp;\nexports.delay = delay;\nexports.interpolate = interpolate;\nexports.mix = mix;\nexports.move = move;\nexports.rubberClamp = rubberClamp;\nexports.snapTo = snapTo;\nexports.useAnimatedValue = useAnimatedValue;\nexports.useDrag = useDrag;\nexports.useGesture = useGesture;\nexports.useMeasure = useMeasure;\nexports.useMountedValue = useMountedValue;\nexports.useMouseMove = useMouseMove;\nexports.useOutsideClick = useOutsideClick;\nexports.useScroll = useScroll;\nexports.useWheel = useWheel;\nexports.useWindowDimension = useWindowDimension;","map":{"version":3,"names":["delay","ms","Promise","resolve","setTimeout","interpolate","value","inputRange","outputRange","extrapolateConfig","reMotion","bInterpolate","minOutput","maxOutput","AnimatedBlock","makeAnimatedComponent","AnimatedInline","AnimatedImage","useMountedValue","state","config","mv","useMount","cb","a","m","MountedBlock","_a","children","open","React","createElement","Fragment","animation","mounted","getInitialConfig","animationType","mass","friction","tension","duration","easing","Easing","bounce","bezier","linear","in","ease","out","inOut","AnimationConfigUtils","ELASTIC","BOUNCE","EASE","STIFF","WOOBLE","EASE_IN","EASE_OUT","EASE_IN_OUT","POWER1","POWER2","POWER3","POWER4","LINEAR","useAnimatedValue","initialValue","__read","useTransition","__assign","setAnimation","targetObject","currentValue","get","Proxy","set","_","key","toValue","Error","ScrollableBlock","props","direction","animationConfig","_b","threshold","scrollableBlockRef","useRef","useEffect","_scrollableBlock","current","observer","IntersectionObserver","entry","isIntersecting","root","observe","unobserve","ref","bin","bool","mix","perc","val1","val2","clamp","lowerbound","upperbound","Math","min","max","rubber2","distanceFromEdge","constant","pow","rubber","dimension","abs","Infinity","rubberClamp","snapTo","velocity","snapPoints","finalValue","getDiff","point","deltas","map","minDelta","apply","__spread","reduce","acc","move","array","moveIndex","toIndex","item","length","diff","slice","targetIndex","TransitionBlock","amv","attachEvent","domTargets","event","callback","capture","forEach","target","addEventListener","removeEventListener","attachEvents","events","subscribers","Map","_c","eventKeys","__values","entries","next","done","_d","eventKey","subscriber","indexOf","withDefault","x","y","Gesture","lastTimeStamp","Date","now","isActive","targetElements","prototype","_initEvents","_cancelEvents","_subscribe","applyCallback","applyGesture","_this","targetElement","element","_VELOCITY_LIMIT","DragGesture","_super","__extends","arguments","movementStart","initialMovement","movement","previousMovement","translation","offset","window","pointerDown","bind","pointerMove","pointerUp","passive","_handleCallback","args","currentIndex","down","movementX","movementY","offsetX","offsetY","velocityX","velocityY","distanceX","distanceY","directionX","sign","directionY","cancel","e","type","touches","clientX","clientY","currElem","find","elem","preventDefault","initial","initialMovementX","initialMovementY","deltaTime","t","MouseMoveGesture","onMouseMove","isMoving","mouseX","mouseY","isActiveID","clearTimeout","diffX","diffY","ScrollGesture","scrollElementListener","scrollListener","isScrolling","scrollX","scrollY","onScroll","pageYOffset","pageXOffset","scrollLeft","scrollTop","LINE_HEIGHT","PAGE_HEIGHT","WheelGesture","delta","onWheel","isWheeling","deltaX","deltaY","deltaMode","useRecognizer","handlers","elementRefs","_e","keyIndex","gesture","_f","unsubscribe","index","undefined","createRef","useDrag","useMouseMove","useScroll","useWheel","useGesture","onDrag","dragGesture","wheelGesture","scrollGesture","mouseMoveGesture","useOutsideClick","elementRef","deps","callbackRef","handleOutsideClick","contains","subscribe","document","useMeasure","_refElement","documentElement","_refElementsMultiple","resizeObserver","ResizeObserver","getBoundingClientRect","left","top","width","height","vLeft","vTop","resizeObserverMultiple","_left","_top","_width","_height","_pageLeft","_pageTop","push","useWindowDimension","windowDimensionsRef","innerWidth","innerHeight","handleCallback","clientWidth","clientHeight"],"sources":["/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/utils/delay.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/interpolation.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/modules/AnimatedBlock.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/modules/AnimatedInline.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/modules/AnimatedImage.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/useMountedValue.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/modules/MountedBlock.tsx","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/getInitialConfig.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/animationType.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/useAnimatedValue.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/modules/ScrollableBlock.tsx","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/math.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/animation/modules/TransitionBlock.tsx","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/eventAttacher.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/withDefault.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/controllers/Gesture.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/controllers/DragGesture.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/controllers/MouseMoveGesture.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/controllers/ScrollGesture.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/controllers/WheelGesture.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/hooks/useRecognizer.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/hooks/useDrag.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/hooks/useMouseMove.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/hooks/useScroll.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/hooks/useWheel.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/gestures/hooks/useGesture.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/hooks/useOutsideClick.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/hooks/useMeasure.ts","/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote 🌎/Options/Coding/Projects/shop/client/node_modules/react-ui-animate/src/hooks/useWindowDimension.ts"],"sourcesContent":["/**\r\n * @param { number } ms - number of milliseconds to delay code execution\r\n * @returns Promise\r\n */\r\nexport function delay(ms: number) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => resolve(null), ms);\r\n  });\r\n}\r\n","import { ExtrapolateConfig, FluidValue } from '@raidipesh78/re-motion';\r\nimport { ValueType } from './useAnimatedValue';\r\nimport { interpolate as internalInterpolate } from '@raidipesh78/re-motion';\r\n\r\n/**\r\n * interpolate functions maps input range to given output range\r\n * @param value - number | TransitionValue\r\n * @param inputRange - Array<number>\r\n * @param outputRange - Array<number | string>\r\n * @param extrapolateConfig - \"clamp\" | \"identity\" | \"extend\"\r\n * @returns - number | TransitionValue\r\n */\r\nexport function interpolate(\r\n  value: number | FluidValue | ValueType,\r\n  inputRange: Array<number>,\r\n  outputRange: Array<number | string>,\r\n  extrapolateConfig?: ExtrapolateConfig\r\n) {\r\n  return internalInterpolate(\r\n    value as any,\r\n    inputRange,\r\n    outputRange,\r\n    extrapolateConfig\r\n  );\r\n}\r\n\r\n/**\r\n * bInterpolate functions maps input range [0, 1] to given [minOutput, maxOutput]\r\n * sorthand function to interpolate input range [0, 1]\r\n * @param value - number | TransitionValue\r\n * @param minOutput - number | string\r\n * @param maxOutput - number | string\r\n * @param extrapolateConfig - \"clamp\" | \"identity\" | \"extend\"\r\n * @returns - number | TransitionValue\r\n */\r\nexport function bInterpolate(\r\n  value: number | FluidValue | ValueType,\r\n  minOutput: number | string,\r\n  maxOutput: number | string,\r\n  extrapolateConfig?: ExtrapolateConfig\r\n) {\r\n  return internalInterpolate(\r\n    value as any,\r\n    [0, 1],\r\n    [minOutput, maxOutput],\r\n    extrapolateConfig\r\n  );\r\n}\r\n","import { makeAnimatedComponent } from '@raidipesh78/re-motion';\r\n\r\n/**\r\n * AnimatedBlock - A higher order component built upon `div` element\r\n * which can accept `AnimatedValue`. It also exposes some extra style properties like\r\n * translateX, translateY, rotateX, rotateY, scaleX, etc.\r\n */\r\nexport const AnimatedBlock = makeAnimatedComponent('div');\r\n","import { makeAnimatedComponent } from '@raidipesh78/re-motion';\r\n\r\n/**\r\n * AnimatedInline - A higher order component built upon `span` element\r\n * which can accept `AnimatedValue`. It also exposes some extra style properties like\r\n * translateX, translateY, rotateX, rotateY, scaleX, etc.\r\n */\r\nexport const AnimatedInline = makeAnimatedComponent('span');\r\n","import { makeAnimatedComponent } from '@raidipesh78/re-motion';\r\n\r\n/**\r\n * AnimatedImage - A higher order component built upon `img` element\r\n * which can accept `AnimatedValue`. It also exposes some extra style properties like\r\n * translateX, translateY, rotateX, rotateY, scaleX, etc.\r\n */\r\nexport const AnimatedImage = makeAnimatedComponent('img');\r\n","import * as React from 'react';\r\nimport { useMount, UseMountConfig, FluidValue } from '@raidipesh78/re-motion';\r\n\r\nexport interface UseMountedValueConfig extends UseMountConfig {}\r\n\r\n/**\r\n * `useMountedValue` handles mounting and unmounting of a component which captures current state\r\n * passed as an arugment (`state`) and exposes the shadow state which handles the mount and unmount\r\n * of a component.\r\n *\r\n * @param { boolean } state - Boolean indicating the component should mount or unmount.\r\n * @param { UseMountedValueConfig } config - Animation configuration.\r\n */\r\nexport function useMountedValue(state: boolean, config: UseMountedValueConfig) {\r\n  const mv = useMount(state, config);\r\n  return (\r\n    cb: (value: { value: FluidValue }, mounted: boolean) => React.ReactNode\r\n  ) => mv((a, m) => cb({ value: a }, m));\r\n}\r\n","import * as React from 'react';\r\nimport { FluidValue } from '@raidipesh78/re-motion';\r\nimport { useMountedValue, UseMountedValueConfig } from '../useMountedValue';\r\n\r\ninterface MountedBlockProps {\r\n  state: boolean;\r\n  children: (animation: { value: FluidValue }) => React.ReactNode;\r\n  config: UseMountedValueConfig;\r\n}\r\n\r\n/**\r\n * MountedBlock - Higher order component which handles mounting and unmounting of a component.\r\n * @prop { boolean } state - Boolean indicating the component should mount or unmount.\r\n * @prop { function } children - Child as a function with `AnimatedValue` on `.value` property.\r\n * @prop { UseMountedValueConfig } config - Animation configuration.\r\n */\r\nexport const MountedBlock = ({\r\n  state,\r\n  children,\r\n  config,\r\n}: MountedBlockProps) => {\r\n  const open = useMountedValue(state, config);\r\n\r\n  return <>{open((animation, mounted) => mounted && children(animation))}</>;\r\n};\r\n","import { Easing, TransitionValueConfig } from '@raidipesh78/re-motion';\r\nexport type InitialConfigType =\r\n  | 'linear'\r\n  | 'easein'\r\n  | 'easeout'\r\n  | 'easeinout'\r\n  | 'ease'\r\n  | 'power1'\r\n  | 'power2'\r\n  | 'power3'\r\n  | 'power4'\r\n  | 'elastic'\r\n  | 'stiff'\r\n  | 'wooble'\r\n  | 'bounce';\r\n\r\nexport const getInitialConfig = (\r\n  animationType?: InitialConfigType\r\n): TransitionValueConfig => {\r\n  switch (animationType) {\r\n    case 'elastic':\r\n      return { mass: 1, friction: 18, tension: 250 };\r\n\r\n    case 'stiff':\r\n      return { mass: 1, friction: 18, tension: 350 };\r\n\r\n    case 'wooble':\r\n      return { mass: 1, friction: 8, tension: 250 };\r\n\r\n    case 'bounce':\r\n      return { duration: 500, easing: Easing.bounce };\r\n\r\n    case 'power1':\r\n      return { duration: 500, easing: Easing.bezier(0.17, 0.42, 0.51, 0.97) };\r\n\r\n    case 'power2':\r\n      return { duration: 500, easing: Easing.bezier(0.07, 0.11, 0.13, 1) };\r\n\r\n    case 'power3':\r\n      return { duration: 500, easing: Easing.bezier(0.09, 0.7, 0.16, 1.04) };\r\n\r\n    case 'power4':\r\n      return { duration: 500, easing: Easing.bezier(0.05, 0.54, 0, 1.03) };\r\n\r\n    case 'linear':\r\n      return { duration: 500, easing: Easing.linear };\r\n\r\n    case 'easein':\r\n      return { duration: 500, easing: Easing.in(Easing.ease) };\r\n\r\n    case 'easeout':\r\n      return { duration: 500, easing: Easing.out(Easing.ease) };\r\n\r\n    case 'easeinout':\r\n      return { duration: 500, easing: Easing.inOut(Easing.ease) };\r\n\r\n    case 'ease':\r\n    default:\r\n      return { mass: 1, friction: 34, tension: 290 };\r\n  }\r\n};\r\n","import { getInitialConfig } from './getInitialConfig';\r\n\r\nexport const AnimationConfigUtils = {\r\n  ELASTIC: getInitialConfig('elastic'),\r\n  BOUNCE: getInitialConfig('bounce'),\r\n  EASE: getInitialConfig('ease'),\r\n  STIFF: getInitialConfig('stiff'),\r\n  WOOBLE: getInitialConfig('wooble'),\r\n  EASE_IN: getInitialConfig('easein'),\r\n  EASE_OUT: getInitialConfig('easeout'),\r\n  EASE_IN_OUT: getInitialConfig('easeinout'),\r\n  POWER1: getInitialConfig('power1'),\r\n  POWER2: getInitialConfig('power2'),\r\n  POWER3: getInitialConfig('power3'),\r\n  POWER4: getInitialConfig('power4'),\r\n  LINEAR: getInitialConfig('linear'),\r\n};\r\n","import { useTransition, TransitionValueConfig } from '@raidipesh78/re-motion';\r\nimport { AnimationConfigUtils } from './animationType';\r\n\r\n// useAnimatedValue value type\r\ntype Length = number | string;\r\n\r\nexport interface UseAnimatedValueConfig extends TransitionValueConfig {}\r\n\r\ntype AssignValue = {\r\n  toValue: Length;\r\n  config?: UseAnimatedValueConfig;\r\n};\r\nexport type ValueType =\r\n  | Length\r\n  | AssignValue\r\n  | ((update: (next: AssignValue) => Promise<any>) => void);\r\n\r\n/**\r\n * `useAnimatedValue` returns an animation value with `.value` and `.currentValue` property which is\r\n * initialized when passed to argument (`initialValue`). The retured value persist until the lifetime of\r\n * a component. It doesnot cast any re-renders which can is very good for performance optimization.\r\n *\r\n * @param { string | number } initialValue - Initial value\r\n * @param { UseAnimatedValueConfig } config - Animation configuration object.\r\n */\r\nexport function useAnimatedValue(\r\n  initialValue: Length,\r\n  config?: UseAnimatedValueConfig\r\n) {\r\n  const [animation, setAnimation] = useTransition(initialValue, {\r\n    ...AnimationConfigUtils.EASE,\r\n    ...config,\r\n  });\r\n\r\n  const targetObject: {\r\n    value: ValueType;\r\n    currentValue: number | string;\r\n  } = {\r\n    value: animation as any,\r\n    currentValue: animation.get(),\r\n  };\r\n\r\n  return new Proxy(targetObject, {\r\n    set: function (_, key, value: ValueType) {\r\n      if (key === 'value') {\r\n        if (typeof value === 'number' || typeof value === 'string') {\r\n          setAnimation({ toValue: value });\r\n        } else if (typeof value === 'object' || typeof value === 'function') {\r\n          setAnimation(value);\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      throw new Error('You cannot set any other property to animation node.');\r\n    },\r\n    get: function (_, key) {\r\n      if (key === 'value') {\r\n        return animation;\r\n      }\r\n\r\n      if (key === 'currentValue') {\r\n        return animation.get();\r\n      }\r\n\r\n      throw new Error(\r\n        'You cannot access any other property from animation node.'\r\n      );\r\n    },\r\n  });\r\n}\r\n","import * as React from 'react';\r\nimport {\r\n  useAnimatedValue,\r\n  UseAnimatedValueConfig,\r\n  ValueType,\r\n} from '../useAnimatedValue';\r\n\r\ninterface ScrollableBlockProps {\r\n  children?: (animation: { value: ValueType }) => React.ReactNode;\r\n  direction?: 'single' | 'both';\r\n  threshold?: number;\r\n  animationConfig?: UseAnimatedValueConfig;\r\n}\r\n\r\n/**\r\n * ScrollableBlock - Higher order component to handle the entrance or exit animation\r\n * of a component when it enters or exit the viewport. Accepts child as a function with\r\n * `AnimatedValue` as its first argument which can be interpolated on input range [0, 1]\r\n * @prop { function } children - child as a function with `AnimatedValue` as its first argument.\r\n * @prop { 'single' | 'both' } direction - single applies animation on enter once, both applies on enter and exit.\r\n * @prop { number } threshold - should be in range 0 to 1 which equivalent to `IntersectionObserver` threshold.\r\n * @prop { UseAnimatedValueConfig } animationConfig - Animation config\r\n */\r\nexport const ScrollableBlock = (props: ScrollableBlockProps) => {\r\n  const {\r\n    children,\r\n    direction = 'single',\r\n    animationConfig,\r\n    threshold = 0.2,\r\n  } = props;\r\n  const scrollableBlockRef = React.useRef<HTMLDivElement>(null);\r\n  const animation = useAnimatedValue(0, animationConfig); // 0: not intersecting | 1: intersecting\r\n\r\n  React.useEffect(() => {\r\n    const _scrollableBlock = scrollableBlockRef.current;\r\n\r\n    const observer = new IntersectionObserver(\r\n      function ([entry]) {\r\n        const { isIntersecting } = entry;\r\n\r\n        if (isIntersecting) {\r\n          animation.value = 1;\r\n        } else {\r\n          if (direction === 'both') animation.value = 0;\r\n        }\r\n      },\r\n      {\r\n        root: null, // FOR VIEWPORT ONLY\r\n        threshold,\r\n      }\r\n    );\r\n\r\n    if (_scrollableBlock) {\r\n      observer.observe(_scrollableBlock);\r\n    }\r\n\r\n    return () => {\r\n      if (_scrollableBlock) {\r\n        observer.unobserve(_scrollableBlock);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={scrollableBlockRef}>\r\n      {children && children({ value: animation.value })}\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * bin(booleanValue)\r\n * returns 1 if booleanValue == true and 0 if booleanValue == false\r\n */\r\nexport function bin(bool: boolean) {\r\n  return bool ? 1 : 0;\r\n}\r\n\r\n/**\r\n * mix(progress, a, b)\r\n * linear interpolation between a and b\r\n */\r\nexport function mix(perc: number, val1: number, val2: number) {\r\n  return val1 * (1 - perc) + val2 * perc;\r\n}\r\n\r\n/**\r\n * clamp(value, min, max)\r\n * clamps value for min and max bounds\r\n */\r\nexport function clamp(value: number, lowerbound: number, upperbound: number) {\r\n  return Math.min(Math.max(value, lowerbound), upperbound);\r\n}\r\n\r\nfunction rubber2(distanceFromEdge: number, constant: number) {\r\n  return Math.pow(distanceFromEdge, constant * 5);\r\n}\r\n\r\nfunction rubber(distanceFromEdge: number, dimension: number, constant: number) {\r\n  if (dimension === 0 || Math.abs(dimension) === Infinity)\r\n    return rubber2(distanceFromEdge, constant);\r\n  return (\r\n    (distanceFromEdge * dimension * constant) /\r\n    (dimension + constant * distanceFromEdge)\r\n  );\r\n}\r\n\r\n/**\r\n * rubberClamp(value, min, max, constant?)\r\n * constant is optional : default 0.15\r\n * clamps the value for min and max value and\r\n * extends beyond min and max values with constant\r\n * factor to create elastic rubber band effect\r\n */\r\nexport function rubberClamp(\r\n  value: number,\r\n  lowerbound: number,\r\n  upperbound: number,\r\n  constant: number = 0.15\r\n) {\r\n  if (constant === 0) return clamp(value, lowerbound, upperbound);\r\n\r\n  if (value < lowerbound) {\r\n    return (\r\n      -rubber(lowerbound - value, upperbound - lowerbound, constant) +\r\n      lowerbound\r\n    );\r\n  }\r\n\r\n  if (value > upperbound) {\r\n    return (\r\n      +rubber(value - upperbound, upperbound - lowerbound, constant) +\r\n      upperbound\r\n    );\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\n/**\r\n * snapTo(value, velocity, snapPoints[])\r\n * Calculates the final snapPoint according to given current value,\r\n * velocity and snapPoints array\r\n */\r\nexport function snapTo(\r\n  value: number,\r\n  velocity: number,\r\n  snapPoints: Array<number>\r\n): number {\r\n  const finalValue = value + velocity * 0.2;\r\n  const getDiff = (point: number) => Math.abs(point - finalValue);\r\n  const deltas = snapPoints.map(getDiff);\r\n  const minDelta = Math.min(...deltas);\r\n\r\n  return snapPoints.reduce(function (acc, point) {\r\n    if (getDiff(point) === minDelta) {\r\n      return point;\r\n    } else {\r\n      return acc;\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * move(array, moveIndex, toIndex)\r\n * move array item from moveIndex to toIndex without array modification\r\n */\r\nexport function move(array: Array<any>, moveIndex: number, toIndex: number) {\r\n  const item = array[moveIndex];\r\n  const length = array.length;\r\n  const diff = moveIndex - toIndex;\r\n\r\n  if (diff > 0) {\r\n    return [\r\n      ...array.slice(0, toIndex),\r\n      item,\r\n      ...array.slice(toIndex, moveIndex),\r\n      ...array.slice(moveIndex + 1, length),\r\n    ];\r\n  } else if (diff < 0) {\r\n    const targetIndex = toIndex + 1;\r\n    return [\r\n      ...array.slice(0, moveIndex),\r\n      ...array.slice(moveIndex + 1, targetIndex),\r\n      item,\r\n      ...array.slice(targetIndex, length),\r\n    ];\r\n  }\r\n  return array;\r\n}\r\n","import * as React from 'react';\r\nimport { bin } from '../../gestures/math';\r\nimport {\r\n  useAnimatedValue,\r\n  UseAnimatedValueConfig,\r\n  ValueType,\r\n} from '../useAnimatedValue';\r\n\r\ninterface TransitionBlockProps {\r\n  state: boolean;\r\n  children: (animation: { value: ValueType }) => React.ReactNode;\r\n  config?: UseAnimatedValueConfig;\r\n}\r\n\r\n/**\r\n * TransitionBlock - Higher order component which animates on state change.\r\n * @prop { boolean } state - Boolean indicating the current state of animation, usually `false = 0 and true = 1`.\r\n * @prop { function } children - Child as a function with `AnimatedValue` on `.value` property.\r\n * @prop { UseAnimatedValueConfig } config - Animation configuration.\r\n */\r\nexport const TransitionBlock = ({\r\n  state,\r\n  children,\r\n  config,\r\n}: TransitionBlockProps) => {\r\n  const amv = useAnimatedValue(bin(state), config);\r\n\r\n  return <>{children({ value: amv.value })}</>;\r\n};\r\n","type MouseEventType =\r\n  | 'click'\r\n  | 'dblclick'\r\n  | 'mousedown'\r\n  | 'mousemove'\r\n  | 'mouseup'\r\n  | 'touchstart'\r\n  | 'touchmove'\r\n  | 'touchend'\r\n  | 'mouseenter'\r\n  | 'mouseleave'\r\n  | 'mouseout'\r\n  | 'mouseover'\r\n  | 'scroll'\r\n  | 'wheel'\r\n  | 'contextmenu';\r\n\r\ntype DomTargetTypes = Array<Window | Document | HTMLElement>;\r\n\r\n/**\r\n * Attach single document / window event / HTMLElement\r\n */\r\nfunction attachEvent(\r\n  domTargets: DomTargetTypes,\r\n  event: MouseEventType,\r\n  callback: (e: any) => void,\r\n  capture: any = false\r\n) {\r\n  domTargets.forEach((target) => {\r\n    target.addEventListener(event, callback, capture);\r\n  });\r\n\r\n  return function () {\r\n    domTargets.forEach((target) => {\r\n      target.removeEventListener(event, callback, capture);\r\n    });\r\n  };\r\n}\r\n\r\n/**\r\n * Attach multiple document / window event / HTMLElement\r\n */\r\nexport function attachEvents(\r\n  domTargets: DomTargetTypes,\r\n  events: Array<\r\n    [event: MouseEventType, callback: (e: any) => void, capture?: any]\r\n  >\r\n) {\r\n  const subscribers = new Map();\r\n\r\n  events.forEach(function ([event, callback, capture = false]) {\r\n    subscribers.set(event, attachEvent(domTargets, event, callback, capture));\r\n  });\r\n\r\n  return function (eventKeys?: Array<string>) {\r\n    for (const [eventKey, subscriber] of subscribers.entries()) {\r\n      if (!eventKeys) {\r\n        subscriber();\r\n        return;\r\n      }\r\n\r\n      if (eventKeys.indexOf(eventKey) !== -1) {\r\n        subscriber();\r\n      }\r\n    }\r\n  };\r\n}\r\n","export const withDefault = (x: number, y: number) => {\r\n  return { x, y };\r\n};\r\n","export class Gesture {\r\n  currentIndex?: number;\r\n  lastTimeStamp: number = Date.now();\r\n  isActive: boolean = false;\r\n  targetElement?: HTMLElement; // represents the bounded element\r\n  targetElements: Array<HTMLElement> = []; // represents the bounded elements\r\n  config?: any;\r\n  callback?: <T>(event: T) => void;\r\n  _subscribe?: (eventKeys?: Array<string>) => void;\r\n  static _VELOCITY_LIMIT: number = 20;\r\n\r\n  // it must be overridden by other child classes\r\n  _initEvents() {}\r\n\r\n  // cancel events\r\n  // we only canceled down and move events because mouse up\r\n  // will not be triggered\r\n  _cancelEvents() {\r\n    if (this._subscribe) {\r\n      this._subscribe();\r\n    }\r\n  }\r\n\r\n  // re-apply new callback\r\n  applyCallback(callback: <T>(event: T) => void) {\r\n    this.callback = callback;\r\n  }\r\n\r\n  // apply gesture\r\n  applyGesture({\r\n    targetElement,\r\n    targetElements,\r\n    callback,\r\n    config,\r\n  }: {\r\n    targetElement?: any;\r\n    targetElements?: any;\r\n    callback: <T>(event: T) => void;\r\n    config?: any;\r\n  }) {\r\n    this.targetElement = targetElement;\r\n    this.targetElements = targetElements.map(\r\n      (element: { current: any }) => element.current\r\n    );\r\n    this.callback = callback;\r\n    this.config = config;\r\n\r\n    // initialize events\r\n    this._initEvents();\r\n\r\n    // unbind\r\n    return () => this._subscribe && this._subscribe();\r\n  }\r\n}\r\n","import { attachEvents } from '../eventAttacher';\r\nimport { Vector2 } from '../types';\r\nimport { clamp } from '../math';\r\nimport { withDefault } from '../withDefault';\r\nimport { Gesture } from './Gesture';\r\n\r\nexport class DragGesture extends Gesture {\r\n  movementStart: Vector2 = withDefault(0, 0);\r\n  initialMovement: Vector2 = withDefault(0, 0);\r\n  movement: Vector2 = withDefault(0, 0);\r\n  previousMovement: Vector2 = withDefault(0, 0);\r\n  translation: Vector2 = withDefault(0, 0);\r\n  offset: Vector2 = withDefault(0, 0);\r\n  velocity: Vector2 = withDefault(0, 0);\r\n\r\n  // @override\r\n  // initialize the events\r\n  _initEvents() {\r\n    if (this.targetElement || this.targetElements.length > 0) {\r\n      this._subscribe = attachEvents(\r\n        [window],\r\n        [\r\n          ['mousedown', this.pointerDown.bind(this)],\r\n          ['mousemove', this.pointerMove.bind(this)],\r\n          ['mouseup', this.pointerUp.bind(this)],\r\n          ['touchstart', this.pointerDown.bind(this), { passive: false }],\r\n          ['touchmove', this.pointerMove.bind(this), { passive: false }],\r\n          ['touchend', this.pointerUp.bind(this)],\r\n        ]\r\n      );\r\n    }\r\n  }\r\n\r\n  // @override - cancel events\r\n  // we only canceled down and move events because mouse up\r\n  // will not be triggered\r\n  _cancelEvents() {\r\n    if (this._subscribe) {\r\n      this._subscribe(['mousedown', 'mousemove', 'touchstart', 'touchmove']);\r\n    }\r\n  }\r\n\r\n  _handleCallback() {\r\n    if (this.callback) {\r\n      this.callback({\r\n        args: [this.currentIndex],\r\n        down: this.isActive,\r\n        movementX: this.movement.x,\r\n        movementY: this.movement.y,\r\n        offsetX: this.translation.x,\r\n        offsetY: this.translation.y,\r\n        velocityX: this.velocity.x,\r\n        velocityY: this.velocity.y,\r\n        distanceX: Math.abs(this.movement.x),\r\n        distanceY: Math.abs(this.movement.y),\r\n        directionX: Math.sign(this.movement.x),\r\n        directionY: Math.sign(this.movement.y),\r\n        cancel: () => {\r\n          this._cancelEvents();\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  pointerDown(e: any) {\r\n    if (e.type === 'touchstart') {\r\n      this.movementStart = {\r\n        x: e.touches[0].clientX,\r\n        y: e.touches[0].clientY,\r\n      };\r\n    } else {\r\n      this.movementStart = { x: e.clientX, y: e.clientY };\r\n    }\r\n\r\n    this.movement = { x: 0, y: 0 };\r\n    this.offset = { x: this.translation.x, y: this.translation.y };\r\n    this.previousMovement = { x: 0, y: 0 };\r\n    this.velocity = { x: 0, y: 0 };\r\n\r\n    // find current selected element\r\n    const currElem = this.targetElements.find((elem: any) => elem === e.target);\r\n\r\n    if (e.target === this.targetElement || currElem) {\r\n      this.isActive = true;\r\n      e.preventDefault();\r\n\r\n      // set args\r\n      if (currElem) {\r\n        this.currentIndex = this.targetElements.indexOf(currElem);\r\n      }\r\n\r\n      // if initial function is defined then call it to get initial movementX and movementY\r\n      // if only select to bounded draggable element\r\n      const initial = this.config?.initial && this.config.initial();\r\n      const initialMovementX = initial?.movementX;\r\n      const initialMovementY = initial?.movementY;\r\n\r\n      this.initialMovement = {\r\n        x: initialMovementX ?? 0,\r\n        y: initialMovementY ?? 0,\r\n      };\r\n\r\n      this.movement = {\r\n        x: this.initialMovement.x,\r\n        y: this.initialMovement.y,\r\n      };\r\n\r\n      this.previousMovement = {\r\n        x: this.initialMovement.x,\r\n        y: this.initialMovement.y,\r\n      };\r\n\r\n      this._handleCallback();\r\n    }\r\n  }\r\n\r\n  pointerMove(e: any) {\r\n    if (this.isActive) {\r\n      e.preventDefault();\r\n      const now = Date.now();\r\n      const deltaTime = clamp(now - this.lastTimeStamp, 0.1, 64);\r\n      this.lastTimeStamp = now;\r\n\r\n      const t = deltaTime / 1000;\r\n\r\n      if (e.type === 'touchmove') {\r\n        this.movement = {\r\n          x:\r\n            this.initialMovement.x +\r\n            (e.touches[0].clientX - this.movementStart.x),\r\n          y:\r\n            this.initialMovement.y +\r\n            (e.touches[0].clientY - this.movementStart.y),\r\n        };\r\n      } else {\r\n        this.movement = {\r\n          x: this.initialMovement.x + (e.clientX - this.movementStart.x),\r\n          y: this.initialMovement.y + (e.clientY - this.movementStart.y),\r\n        };\r\n      }\r\n\r\n      this.translation = {\r\n        x: this.offset.x + this.movement.x,\r\n        y: this.offset.y + this.movement.y,\r\n      };\r\n\r\n      this.velocity = {\r\n        x: clamp(\r\n          (this.movement.x - this.previousMovement.x) / t / 1000,\r\n          -1 * Gesture._VELOCITY_LIMIT,\r\n          Gesture._VELOCITY_LIMIT\r\n        ),\r\n        y: clamp(\r\n          (this.movement.y - this.previousMovement.y) / t / 1000,\r\n          -1 * Gesture._VELOCITY_LIMIT,\r\n          Gesture._VELOCITY_LIMIT\r\n        ),\r\n      };\r\n\r\n      this.previousMovement = {\r\n        x: this.movement.x,\r\n        y: this.movement.y,\r\n      };\r\n\r\n      this._handleCallback();\r\n    }\r\n  }\r\n\r\n  pointerUp() {\r\n    if (this.isActive) {\r\n      this.isActive = false;\r\n      this._handleCallback();\r\n      this._cancelEvents();\r\n      this._initEvents();\r\n    }\r\n  }\r\n}\r\n","import { attachEvents } from '../eventAttacher';\r\nimport { Vector2 } from '../types';\r\nimport { clamp } from '../math';\r\nimport { withDefault } from '../withDefault';\r\nimport { Gesture } from './Gesture';\r\n\r\nexport class MouseMoveGesture extends Gesture {\r\n  event?: MouseEvent;\r\n  isActiveID?: any;\r\n  movement: Vector2 = withDefault(0, 0);\r\n  previousMovement: Vector2 = withDefault(0, 0);\r\n  velocity: Vector2 = withDefault(0, 0);\r\n  direction: Vector2 = withDefault(0, 0);\r\n\r\n  // @override\r\n  // initialize the events\r\n  _initEvents() {\r\n    if (this.targetElement) {\r\n      this._subscribe = attachEvents(\r\n        [this.targetElement],\r\n        [['mousemove', this.onMouseMove.bind(this)]]\r\n      );\r\n    } else if (this.targetElements.length > 0) {\r\n      this._subscribe = attachEvents(this.targetElements, [\r\n        ['mousemove', this.onMouseMove.bind(this)],\r\n      ]);\r\n    } else {\r\n      this._subscribe = attachEvents(\r\n        [window],\r\n        [['mousemove', this.onMouseMove.bind(this)]]\r\n      );\r\n    }\r\n  }\r\n\r\n  _handleCallback() {\r\n    if (this.callback) {\r\n      this.callback({\r\n        args: [this.currentIndex],\r\n        event: this.event,\r\n        isMoving: this.isActive,\r\n        target: this.event?.target,\r\n        mouseX: this.movement.x,\r\n        mouseY: this.movement.y,\r\n        velocityX: this.velocity.x,\r\n        velocityY: this.velocity.y,\r\n        directionX: this.direction.x,\r\n        directionY: this.direction.y,\r\n      });\r\n    }\r\n  }\r\n\r\n  onMouseMove(e: MouseEvent) {\r\n    // find current selected element\r\n    const currElem = this.targetElements.find((elem: any) => elem === e.target);\r\n\r\n    // set args\r\n    if (currElem) {\r\n      this.currentIndex = this.targetElements.indexOf(currElem);\r\n    }\r\n\r\n    this.event = e;\r\n\r\n    const now: number = Date.now();\r\n    const deltaTime = Math.min(now - this.lastTimeStamp, 64);\r\n    this.lastTimeStamp = now;\r\n    const t = deltaTime / 1000; // seconds\r\n\r\n    const x = e.clientX;\r\n    const y = e.clientY;\r\n\r\n    this.movement = { x, y };\r\n\r\n    if (this.isActiveID !== -1) {\r\n      this.isActive = true;\r\n      clearTimeout(this.isActiveID);\r\n    }\r\n\r\n    this.isActiveID = setTimeout(() => {\r\n      this.isActive = false;\r\n      this.direction = { x: 0, y: 0 };\r\n      this.velocity = { x: 0, y: 0 };\r\n\r\n      this._handleCallback();\r\n    }, 250); // Debounce 250 milliseconds\r\n\r\n    const diffX = this.movement.x - this.previousMovement.x;\r\n    const diffY = this.movement.y - this.previousMovement.y;\r\n\r\n    this.direction = {\r\n      x: Math.sign(diffX),\r\n      y: Math.sign(diffY),\r\n    };\r\n\r\n    this.velocity = {\r\n      x: clamp(\r\n        diffX / t / 1000,\r\n        -1 * Gesture._VELOCITY_LIMIT,\r\n        Gesture._VELOCITY_LIMIT\r\n      ),\r\n      y: clamp(\r\n        diffY / t / 1000,\r\n        -1 * Gesture._VELOCITY_LIMIT,\r\n        Gesture._VELOCITY_LIMIT\r\n      ),\r\n    };\r\n\r\n    this.previousMovement = { x: this.movement.x, y: this.movement.y };\r\n\r\n    this._handleCallback();\r\n  }\r\n}\r\n","import { attachEvents } from '../eventAttacher';\r\nimport { Vector2 } from '../types';\r\nimport { clamp } from '../math';\r\nimport { withDefault } from '../withDefault';\r\nimport { Gesture } from './Gesture';\r\n\r\nexport class ScrollGesture extends Gesture {\r\n  isActiveID?: any;\r\n  movement: Vector2 = withDefault(0, 0);\r\n  previousMovement: Vector2 = withDefault(0, 0);\r\n  direction: Vector2 = withDefault(0, 0);\r\n  velocity: Vector2 = withDefault(0, 0);\r\n\r\n  // @override\r\n  // initialize the events\r\n  _initEvents() {\r\n    if (this.targetElement) {\r\n      this._subscribe = attachEvents(\r\n        [this.targetElement],\r\n        [['scroll', this.scrollElementListener.bind(this)]]\r\n      );\r\n    } else {\r\n      this._subscribe = attachEvents(\r\n        [window],\r\n        [['scroll', this.scrollListener.bind(this)]]\r\n      );\r\n    }\r\n  }\r\n\r\n  _handleCallback() {\r\n    if (this.callback) {\r\n      this.callback({\r\n        isScrolling: this.isActive,\r\n        scrollX: this.movement.x,\r\n        scrollY: this.movement.y,\r\n        velocityX: this.velocity.x,\r\n        velocityY: this.velocity.y,\r\n        directionX: this.direction.x,\r\n        directionY: this.direction.y,\r\n      });\r\n    }\r\n  }\r\n\r\n  onScroll({ x, y }: Vector2) {\r\n    const now: number = Date.now();\r\n    const deltaTime = Math.min(now - this.lastTimeStamp, 64);\r\n    this.lastTimeStamp = now;\r\n    const t = deltaTime / 1000; // seconds\r\n\r\n    this.movement = { x, y };\r\n\r\n    // Clear if scrolling\r\n    if (this.isActiveID !== -1) {\r\n      this.isActive = true;\r\n      clearTimeout(this.isActiveID);\r\n    }\r\n\r\n    this.isActiveID = setTimeout(() => {\r\n      this.isActive = false;\r\n      this.direction = { x: 0, y: 0 };\r\n\r\n      // Reset Velocity\r\n      this.velocity = { x: 0, y: 0 };\r\n\r\n      this._handleCallback(); // Debounce 250milliseconds\r\n    }, 250);\r\n\r\n    const diffX = this.movement.x - this.previousMovement.x;\r\n    const diffY = this.movement.y - this.previousMovement.y;\r\n\r\n    this.direction = {\r\n      x: Math.sign(diffX),\r\n      y: Math.sign(diffY),\r\n    };\r\n\r\n    this.velocity = {\r\n      x: clamp(\r\n        diffX / t / 1000,\r\n        -1 * Gesture._VELOCITY_LIMIT,\r\n        Gesture._VELOCITY_LIMIT\r\n      ),\r\n      y: clamp(\r\n        diffY / t / 1000,\r\n        -1 * Gesture._VELOCITY_LIMIT,\r\n        Gesture._VELOCITY_LIMIT\r\n      ),\r\n    };\r\n\r\n    this.previousMovement = {\r\n      x: this.movement.x,\r\n      y: this.movement.y,\r\n    };\r\n\r\n    this._handleCallback();\r\n  }\r\n\r\n  scrollListener() {\r\n    const { pageYOffset: y, pageXOffset: x } = window;\r\n    this.onScroll({ x, y });\r\n  }\r\n\r\n  scrollElementListener() {\r\n    const x = this.targetElement?.scrollLeft || 0;\r\n    const y = this.targetElement?.scrollTop || 0;\r\n    this.onScroll({ x, y });\r\n  }\r\n}\r\n","import { attachEvents } from '../eventAttacher';\r\nimport { Vector2 } from '../types';\r\nimport { clamp } from '../math';\r\nimport { withDefault } from '../withDefault';\r\nimport { Gesture } from './Gesture';\r\n\r\nconst LINE_HEIGHT = 40;\r\nconst PAGE_HEIGHT = 800;\r\n\r\nexport class WheelGesture extends Gesture {\r\n  isActiveID?: any;\r\n  movement: Vector2 = withDefault(0, 0);\r\n  previousMovement: Vector2 = withDefault(0, 0);\r\n  direction: Vector2 = withDefault(0, 0);\r\n  velocity: Vector2 = withDefault(0, 0);\r\n  delta: Vector2 = withDefault(0, 0);\r\n\r\n  // Holds offsets\r\n  offset: Vector2 = withDefault(0, 0);\r\n  translation: Vector2 = withDefault(0, 0);\r\n\r\n  // @override\r\n  // initialize the events\r\n  _initEvents() {\r\n    if (this.targetElement) {\r\n      this._subscribe = attachEvents(\r\n        [this.targetElement],\r\n        [['wheel', this.onWheel.bind(this)]]\r\n      );\r\n    }\r\n  }\r\n\r\n  _handleCallback() {\r\n    if (this.callback) {\r\n      this.callback({\r\n        target: this.targetElement,\r\n        isWheeling: this.isActive,\r\n        deltaX: this.delta.x,\r\n        deltaY: this.delta.y,\r\n        directionX: this.direction.x,\r\n        directionY: this.direction.y,\r\n        movementX: this.movement.x,\r\n        movementY: this.movement.y,\r\n        offsetX: this.offset.x,\r\n        offsetY: this.offset.y,\r\n        velocityX: this.velocity.x,\r\n        velocityY: this.velocity.y,\r\n      });\r\n    }\r\n  }\r\n\r\n  onWheel(event: WheelEvent) {\r\n    let { deltaX, deltaY, deltaMode } = event;\r\n\r\n    const now: number = Date.now();\r\n    const deltaTime = Math.min(now - this.lastTimeStamp, 64);\r\n    this.lastTimeStamp = now;\r\n    const t = deltaTime / 1000; // seconds\r\n\r\n    this.isActive = true;\r\n\r\n    if (this.isActiveID !== -1) {\r\n      this.isActive = true;\r\n      clearTimeout(this.isActiveID);\r\n    }\r\n\r\n    this.isActiveID = setTimeout(() => {\r\n      this.isActive = false;\r\n      this.translation = { x: this.offset.x, y: this.offset.y };\r\n      this._handleCallback();\r\n\r\n      this.velocity = { x: 0, y: 0 }; // Reset Velocity\r\n      this.movement = { x: 0, y: 0 };\r\n    }, 200);\r\n\r\n    // normalize wheel values, especially for Firefox\r\n    if (deltaMode === 1) {\r\n      deltaX *= LINE_HEIGHT;\r\n      deltaY *= LINE_HEIGHT;\r\n    } else if (deltaMode === 2) {\r\n      deltaX *= PAGE_HEIGHT;\r\n      deltaY *= PAGE_HEIGHT;\r\n    }\r\n\r\n    this.delta = { x: deltaX, y: deltaY };\r\n    this.movement = {\r\n      x: this.movement.x + deltaX,\r\n      y: this.movement.y + deltaY,\r\n    };\r\n    this.offset = {\r\n      x: this.translation.x + this.movement.x,\r\n      y: this.translation.y + this.movement.y,\r\n    };\r\n\r\n    const diffX = this.movement.x - this.previousMovement.x;\r\n    const diffY = this.movement.y - this.previousMovement.y;\r\n\r\n    this.direction = {\r\n      x: Math.sign(diffX),\r\n      y: Math.sign(diffY),\r\n    };\r\n\r\n    this.velocity = {\r\n      x: clamp(\r\n        diffX / t / 1000,\r\n        -1 * Gesture._VELOCITY_LIMIT,\r\n        Gesture._VELOCITY_LIMIT\r\n      ),\r\n      y: clamp(\r\n        diffY / t / 1000,\r\n        -1 * Gesture._VELOCITY_LIMIT,\r\n        Gesture._VELOCITY_LIMIT\r\n      ),\r\n    };\r\n\r\n    this.previousMovement = {\r\n      x: this.movement.x,\r\n      y: this.movement.y,\r\n    };\r\n\r\n    this._handleCallback();\r\n  }\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport * as React from 'react';\r\n\r\ntype UseRecognizerHandlerType = Array<\r\n  [\r\n    key: 'drag' | 'wheel' | 'move' | 'scroll',\r\n    gesture: any,\r\n    callback: any,\r\n    config?: any\r\n  ]\r\n>;\r\n\r\nexport const useRecognizer = (handlers: UseRecognizerHandlerType) => {\r\n  const ref = React.useRef<any>();\r\n  const elementRefs = React.useRef<Array<any>>([]);\r\n  const subscribers = React.useRef<\r\n    Map<string, { keyIndex: number; gesture: any; unsubscribe: any }>\r\n  >(new Map()).current;\r\n\r\n  // re-initiate callback on change\r\n  React.useEffect(() => {\r\n    for (let [, { keyIndex, gesture }] of subscribers.entries()) {\r\n      const [, , callback] = handlers[keyIndex];\r\n      gesture.applyCallback(callback);\r\n    }\r\n  }, [handlers]);\r\n\r\n  React.useEffect(() => {\r\n    handlers.forEach(([key, gesture, callback, config], keyIndex) => {\r\n      subscribers.set(key, {\r\n        keyIndex,\r\n        gesture,\r\n        unsubscribe: gesture.applyGesture({\r\n          targetElement: ref.current,\r\n          targetElements: elementRefs.current,\r\n          callback,\r\n          config,\r\n        }),\r\n      });\r\n    });\r\n\r\n    return () => {\r\n      for (let [, { unsubscribe }] of subscribers.entries()) {\r\n        unsubscribe && unsubscribe();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (index?: number) => {\r\n    if (index === null || index === undefined) {\r\n      return { ref };\r\n    } else {\r\n      elementRefs.current[index] =\r\n        elementRefs.current[index] || React.createRef();\r\n\r\n      return { ref: elementRefs.current[index] };\r\n    }\r\n  };\r\n};\r\n","import * as React from 'react';\r\n\r\nimport { DragEventType, UseDragConfig } from '../types';\r\nimport { DragGesture } from '../controllers';\r\nimport { useRecognizer } from './useRecognizer';\r\n\r\nexport function useDrag(\r\n  callback: (event: DragEventType) => void,\r\n  config?: UseDragConfig\r\n) {\r\n  const gesture = React.useRef(new DragGesture()).current;\r\n\r\n  return useRecognizer([['drag', gesture, callback, config]]);\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { MouseMoveEventType } from '../types';\r\nimport { MouseMoveGesture } from '../controllers';\r\nimport { useRecognizer } from './useRecognizer';\r\n\r\nexport function useMouseMove(callback: (event: MouseMoveEventType) => void) {\r\n  const gesture = React.useRef(new MouseMoveGesture()).current;\r\n\r\n  return useRecognizer([['move', gesture, callback]]);\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { ScrollEventType } from '../types';\r\nimport { ScrollGesture } from '../controllers';\r\nimport { useRecognizer } from './useRecognizer';\r\n\r\nexport function useScroll(callback: (event: ScrollEventType) => void) {\r\n  const gesture = React.useRef(new ScrollGesture()).current;\r\n\r\n  return useRecognizer([['scroll', gesture, callback]]);\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { WheelEventType } from '../types';\r\nimport { WheelGesture } from '../controllers';\r\nimport { useRecognizer } from './useRecognizer';\r\n\r\nexport function useWheel(callback: (event: WheelEventType) => void) {\r\n  const gesture = React.useRef(new WheelGesture()).current;\r\n\r\n  return useRecognizer([['wheel', gesture, callback]]);\r\n}\r\n","import * as React from 'react';\r\nimport {\r\n  DragGesture,\r\n  MouseMoveGesture,\r\n  ScrollGesture,\r\n  WheelGesture,\r\n} from '../controllers';\r\nimport {\r\n  DragEventType,\r\n  WheelEventType,\r\n  ScrollEventType,\r\n  MouseMoveEventType,\r\n} from '../types';\r\nimport { useRecognizer } from './useRecognizer';\r\n\r\nexport function useGesture({\r\n  onDrag,\r\n  onWheel,\r\n  onScroll,\r\n  onMouseMove,\r\n}: {\r\n  onDrag?: (event: DragEventType) => void;\r\n  onWheel?: (event: WheelEventType) => void;\r\n  onScroll?: (event: ScrollEventType) => void;\r\n  onMouseMove?: (event: MouseMoveEventType) => void;\r\n}) {\r\n  const dragGesture = React.useRef(new DragGesture()).current;\r\n  const wheelGesture = React.useRef(new WheelGesture()).current;\r\n  const scrollGesture = React.useRef(new ScrollGesture()).current;\r\n  const mouseMoveGesture = React.useRef(new MouseMoveGesture()).current;\r\n\r\n  return useRecognizer([\r\n    ['drag', dragGesture, onDrag],\r\n    ['wheel', wheelGesture, onWheel],\r\n    ['scroll', scrollGesture, onScroll],\r\n    ['move', mouseMoveGesture, onMouseMove],\r\n  ]);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { attachEvents } from \"../gestures/eventAttacher\";\r\n\r\nexport function useOutsideClick(\r\n  elementRef: React.RefObject<HTMLElement>,\r\n  callback: (event: MouseEvent) => void,\r\n  deps?: React.DependencyList\r\n) {\r\n  const callbackRef = React.useRef<(event: MouseEvent) => void>();\r\n\r\n  if (!callbackRef.current) {\r\n    callbackRef.current = callback;\r\n  }\r\n\r\n  // Reinitiate callback when dependency change\r\n  React.useEffect(() => {\r\n    callbackRef.current = callback;\r\n\r\n    return () => {\r\n      callbackRef.current = () => false;\r\n    };\r\n  }, deps);\r\n\r\n  React.useEffect(() => {\r\n    const handleOutsideClick = (e: MouseEvent) => {\r\n      if (!elementRef?.current?.contains(e.target as Element)) {\r\n        callbackRef.current && callbackRef.current(e);\r\n      }\r\n    };\r\n\r\n    const subscribe = attachEvents([document], [[\"click\", handleOutsideClick]]);\r\n\r\n    return () => subscribe && subscribe();\r\n  }, []);\r\n}\r\n","import * as React from \"react\";\r\n\r\ntype MeasurementValue = number | Array<number>;\r\n\r\ntype MeasurementType = {\r\n  left: MeasurementValue;\r\n  top: MeasurementValue;\r\n  width: MeasurementValue;\r\n  height: MeasurementValue;\r\n  vLeft: MeasurementValue;\r\n  vTop: MeasurementValue;\r\n};\r\n\r\nexport function useMeasure(\r\n  callback: (event: MeasurementType) => void,\r\n  deps?: React.DependencyList\r\n) {\r\n  const ref = React.useRef(null);\r\n  const elementRefs = React.useRef([]);\r\n  const callbackRef = React.useRef<(event: MeasurementType) => void>(callback);\r\n\r\n  // Reinitiate callback when dependency change\r\n  React.useEffect(() => {\r\n    callbackRef.current = callback;\r\n\r\n    return () => {\r\n      callbackRef.current = () => false;\r\n    };\r\n  }, deps);\r\n\r\n  React.useEffect(() => {\r\n    const _refElement = ref.current || document.documentElement;\r\n    const _refElementsMultiple = elementRefs.current;\r\n\r\n    const resizeObserver = new ResizeObserver(([entry]) => {\r\n      const { left, top, width, height } = entry.target.getBoundingClientRect();\r\n      const { pageXOffset, pageYOffset } = window;\r\n\r\n      if (callbackRef) {\r\n        if (_refElement === document.documentElement) {\r\n          return; // no-op for document\r\n        } else {\r\n          callbackRef.current({\r\n            left: left + pageXOffset,\r\n            top: top + pageYOffset,\r\n            width,\r\n            height,\r\n            vLeft: left,\r\n            vTop: top,\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    const resizeObserverMultiple = new ResizeObserver((entries) => {\r\n      const left: Array<number> = [];\r\n      const top: Array<number> = [];\r\n      const width: Array<number> = [];\r\n      const height: Array<number> = [];\r\n      const vLeft: Array<number> = [];\r\n      const vTop: Array<number> = [];\r\n\r\n      entries.forEach((entry) => {\r\n        const {\r\n          left: _left,\r\n          top: _top,\r\n          width: _width,\r\n          height: _height,\r\n        } = entry.target.getBoundingClientRect();\r\n        const { pageXOffset, pageYOffset } = window;\r\n        const _pageLeft = _left + pageXOffset;\r\n        const _pageTop = _top + pageYOffset;\r\n\r\n        left.push(_pageLeft);\r\n        top.push(_pageTop);\r\n        width.push(_width);\r\n        height.push(_height);\r\n        vLeft.push(_left);\r\n        vTop.push(_top);\r\n      });\r\n\r\n      if (callbackRef) {\r\n        callbackRef.current({\r\n          left,\r\n          top,\r\n          width,\r\n          height,\r\n          vLeft,\r\n          vTop,\r\n        });\r\n      }\r\n    });\r\n\r\n    if (_refElement) {\r\n      if (\r\n        _refElement === document.documentElement &&\r\n        _refElementsMultiple.length > 0\r\n      ) {\r\n        _refElementsMultiple.forEach((element: any) => {\r\n          resizeObserverMultiple.observe(element.current);\r\n        });\r\n      } else {\r\n        resizeObserver.observe(_refElement);\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      if (_refElement) {\r\n        if (\r\n          _refElement === document.documentElement &&\r\n          _refElementsMultiple.length > 0\r\n        ) {\r\n          _refElementsMultiple.forEach((element: any) => {\r\n            resizeObserverMultiple.unobserve(element.current);\r\n          });\r\n        } else {\r\n          resizeObserver.unobserve(_refElement);\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (index?: number) => {\r\n    if (index === null || index === undefined) {\r\n      return { ref };\r\n    } else {\r\n      elementRefs.current[index] =\r\n        elementRefs.current[index] || React.createRef();\r\n\r\n      return { ref: elementRefs.current[index] };\r\n    }\r\n  }; // ...bind() or ...bind(index) for multiple\r\n}\r\n","import * as React from \"react\";\r\n\r\ntype WindowDimensionType = {\r\n  width: number;\r\n  height: number;\r\n  innerWidth: number;\r\n  innerHeight: number;\r\n};\r\n\r\nexport function useWindowDimension(\r\n  callback: (event: WindowDimensionType) => void,\r\n  deps?: React.DependencyList\r\n) {\r\n  const windowDimensionsRef = React.useRef<WindowDimensionType>({\r\n    width: 0,\r\n    height: 0,\r\n    innerWidth: 0,\r\n    innerHeight: 0,\r\n  });\r\n  const callbackRef =\r\n    React.useRef<(event: WindowDimensionType) => void>(callback);\r\n\r\n  const handleCallback: () => void = () => {\r\n    if (callbackRef) {\r\n      callbackRef.current({\r\n        ...windowDimensionsRef.current,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Reinitiate callback when dependency change\r\n  React.useEffect(() => {\r\n    callbackRef.current = callback;\r\n\r\n    return () => {\r\n      callbackRef.current = () => false;\r\n    };\r\n  }, deps);\r\n\r\n  React.useEffect(() => {\r\n    const resizeObserver = new ResizeObserver(([entry]) => {\r\n      const { clientWidth, clientHeight } = entry.target;\r\n      const { innerWidth, innerHeight } = window;\r\n\r\n      windowDimensionsRef.current = {\r\n        width: clientWidth,\r\n        height: clientHeight,\r\n        innerWidth,\r\n        innerHeight,\r\n      };\r\n\r\n      handleCallback();\r\n    });\r\n\r\n    resizeObserver.observe(document.documentElement);\r\n\r\n    return () => resizeObserver.unobserve(document.documentElement);\r\n  }, []);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}