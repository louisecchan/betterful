{"ast":null,"code":"import React from\"react\";import Card from\"../Card/Card\";import\"./featuredProducts.scss\";import useFetch from\"../../hooks/useFetch\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var FeaturedProducts=function FeaturedProducts(_ref){var type=_ref.type;var _useFetch=useFetch(\"/products?populate=*&[filters][type][$eq]=\".concat(type)),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error;function reveal(){var reveals=document.querySelectorAll(\".reveal\");for(var i=0;i<reveals.length;i++){var windowHeight=window.innerHeight;var elementTop=reveals[i].getBoundingClientRect().top;var elementVisible=150;if(elementTop<windowHeight-elementVisible){reveals[i].classList.add(\"active\");}else{reveals[i].classList.remove(\"active\");}}}window.addEventListener(\"scroll\",reveal);return/*#__PURE__*/_jsxs(\"div\",{className:\"featuredProducts\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[type,\" products\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem sapiente officiis sint ipsam libero. Omnis, numquam excepturi porro nisi quae non eius culpa odio, doloremque laboriosam quisquam eligendi fugit inventore.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom\",children:error?/*#__PURE__*/_jsx(\"span\",{className:\"errMessage\",children:\"Something went wrong!\"}):loading?/*#__PURE__*/_jsxs(\"div\",{class:\"lds-ring\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}):data===null||data===void 0?void 0:data.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"card-container\",children:/*#__PURE__*/_jsx(Card,{item:item},item.id)});})})]});};export default FeaturedProducts;","map":{"version":3,"names":["React","Card","useFetch","jsxs","_jsxs","jsx","_jsx","FeaturedProducts","_ref","type","_useFetch","concat","data","loading","error","reveal","reveals","document","querySelectorAll","i","length","windowHeight","window","innerHeight","elementTop","getBoundingClientRect","top","elementVisible","classList","add","remove","addEventListener","className","children","class","map","item","id"],"sources":["/Users/chanchinghei/Library/Mobile Documents/com~apple~CloudDocs/Documents/Work/Fully Remote ðŸŒŽ/Options/Coding/Projects/shop/client/src/components/FeaturedProducts/FeaturedProducts.jsx"],"sourcesContent":["import React from \"react\";\nimport Card from \"../Card/Card\";\nimport \"./featuredProducts.scss\";\nimport useFetch from \"../../hooks/useFetch\";\n\nconst FeaturedProducts = ({ type }) => {\n  const { data, loading, error } = useFetch(\n    `/products?populate=*&[filters][type][$eq]=${type}`\n  );\n\n  function reveal() {\n    var reveals = document.querySelectorAll(\".reveal\");\n    for (var i = 0; i < reveals.length; i++) {\n      var windowHeight = window.innerHeight;\n      var elementTop = reveals[i].getBoundingClientRect().top;\n      var elementVisible = 150;\n\n      if (elementTop < windowHeight - elementVisible) {\n        reveals[i].classList.add(\"active\");\n      } else {\n        reveals[i].classList.remove(\"active\");\n      }\n    }\n  }\n\n  window.addEventListener(\"scroll\", reveal);\n\n  return (\n    <div className=\"featuredProducts\">\n      <div className=\"top\">\n        <h1>{type} products</h1>\n        <p>\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem sapiente\n          officiis sint ipsam libero. Omnis, numquam excepturi porro nisi quae\n          non eius culpa odio, doloremque laboriosam quisquam eligendi fugit\n          inventore.\n        </p>\n      </div>\n      <div className=\"bottom\">\n        {error ? (\n          <span className=\"errMessage\">Something went wrong!</span>\n        ) : loading ? (\n          <div class=\"lds-ring\">\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n          </div>\n        ) : (\n          data?.map((item) => (\n            <div className=\"card-container\">\n              <Card item={item} key={item.id} />\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FeaturedProducts;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,yBAAyB,CAChC,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE5C,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAAC,IAAA,CAAiB,IAAX,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAC9B,IAAAC,SAAA,CAAiCR,QAAQ,8CAAAS,MAAA,CACMF,IAAI,EAClD,CAFOG,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,OAAO,CAAAH,SAAA,CAAPG,OAAO,CAAEC,KAAK,CAAAJ,SAAA,CAALI,KAAK,CAI5B,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,GAAI,CAAAC,OAAO,CAAGC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAC,CAClD,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,OAAO,CAACI,MAAM,CAAED,CAAC,EAAE,CAAE,CACvC,GAAI,CAAAE,YAAY,CAAGC,MAAM,CAACC,WAAW,CACrC,GAAI,CAAAC,UAAU,CAAGR,OAAO,CAACG,CAAC,CAAC,CAACM,qBAAqB,EAAE,CAACC,GAAG,CACvD,GAAI,CAAAC,cAAc,CAAG,GAAG,CAExB,GAAIH,UAAU,CAAGH,YAAY,CAAGM,cAAc,CAAE,CAC9CX,OAAO,CAACG,CAAC,CAAC,CAACS,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,CACpC,CAAC,IAAM,CACLb,OAAO,CAACG,CAAC,CAAC,CAACS,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC,CACvC,CACF,CACF,CAEAR,MAAM,CAACS,gBAAgB,CAAC,QAAQ,CAAEhB,MAAM,CAAC,CAEzC,mBACEX,KAAA,QAAK4B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7B,KAAA,QAAK4B,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB7B,KAAA,OAAA6B,QAAA,EAAKxB,IAAI,CAAC,WAAS,GAAK,cACxBH,IAAA,MAAA2B,QAAA,CAAG,0NAKH,EAAI,GACA,cACN3B,IAAA,QAAK0B,SAAS,CAAC,QAAQ,CAAAC,QAAA,CACpBnB,KAAK,cACJR,IAAA,SAAM0B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,uBAAqB,EAAO,CACvDpB,OAAO,cACTT,KAAA,QAAK8B,KAAK,CAAC,UAAU,CAAAD,QAAA,eACnB3B,IAAA,UAAW,cACXA,IAAA,UAAW,cACXA,IAAA,UAAW,cACXA,IAAA,UAAW,GACP,CAENM,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,GAAG,CAAC,SAACC,IAAI,qBACb9B,IAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B3B,IAAA,CAACL,IAAI,EAACmC,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACC,EAAE,CAAI,EAC9B,EACP,CACF,EACG,GACF,CAEV,CAAC,CAED,cAAe,CAAA9B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}